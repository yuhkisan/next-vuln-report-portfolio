# 操作マニュアル（簡易）

Dependency Vulnerability Scanner の主要操作だけをまとめた 1 ページ版です。

---

## 1. 基本フロー

1. チームを選択（URL の `teamId` で切り替え）
2. `package-lock.json` / `package.json` をアップロード
3. 解析結果（脆弱性一覧・詳細）を確認

---

## 2. チーム選択

- 画面上部のチームセレクタから選択できます。
- チームは URL の `?teamId=xxx` で管理されます。
- `teamId` がない場合は先頭のチームが選択され、URL に反映されます。

---

## 3. アップロード

**対応ファイル**
- `package-lock.json`（v2 / v3）
- `package.json`

**制約**
- JSON 形式のみ
- `.json` 拡張子のみ
- 5MB 以下

**手順**
1. ルート `/` でドラッグ&ドロップ
2. 自動解析 → 完了後に結果画面へ

**エラー表示**
画面上部のエラーとトーストで理由が表示されます。

| 条件 | メッセージ |
|---|---|
| 空ファイル | 空のファイルです。依存情報を含む JSON をアップロードしてください。 |
| 5MB超過 | ファイルサイズが5MBを超えています。5MB以下にしてください。 |
| 拡張子が .json 以外 | JSON ファイルのみ対応しています。 |
| JSON 解析失敗 | JSONとして解析できません。形式を確認してください。 |
| チーム未選択 | チームが見つかりません。先にチームを作成してください。 |
| ネットワークエラー | ネットワークエラーが発生しました |
| 予期しない失敗 | アップロードに失敗しました |

---

## 4. プロジェクト一覧

- `/projects` でチームごとのプロジェクト一覧を確認できます。
- 解析が完了したプロジェクトのみ詳細へ遷移できます。
- カード右上メニューから名前変更/削除が可能です（永続化）。

---

## 5. 脆弱性詳細

- サマリー（深刻度別件数）
- フィルタ（深刻度 / 依存タイプ / 検索）
- Root Dependency グルーピング
- 行クリックで詳細ドロワー
- AI解説（APIキー未設定時はモック注記あり）
- プロジェクトの AIリスク分析（APIキー未設定時はモック注記あり）

---

## 6. 設定（モック）

- `/settings` はモック挙動です（永続保存なし）。
- 画面上に注記が表示されます。
- 最後のチーム削除は不可（「最後のチームは削除できません（デモ制限）」）。

---

## 7. モック脆弱性DB

- 既知ルール一致 → 固定結果
- それ以外 → 入力に応じた決定論的な擬似結果
