# テスト運用ルール（簡易）

- 目的: 重要フロー/重要ロジックのみ自動化し、保守性と工数を優先する。
- 自動テスト対象: 依存解析、`/api/scans` 契約（成功+主要エラー）、`/api/projects/:id` 更新/削除、ViewModel集計、脆弱性決定論ロジック。
- E2E: 主要導線は1本（アップロード成功→結果画面表示）。
- 手動対象: 見た目/文言、フィルタ/検索、AI解説、詳細ドロワー、設定（モック）、チーム切替。
- 変更タイプ→対応: ロジック/API変更はテスト追加必須、UI変更はChromatic差分確認、導線変更は手動スモーク必須。
- バグ修正: 再現テストを先に1本追加してから修正する。
- 手動タイミング: UI/UX変更PRとリリース前に実施する。
- 上限ルール: 1機能あたり最大3本、E2Eは1機能1本まで。
- Chromatic: 見た目差分の検知に使い、差分は承認して進める。
